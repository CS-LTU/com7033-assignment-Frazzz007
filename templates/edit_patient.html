<!DOCTYPE html>
<html>
<head>
    <title>Edit Patient</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .readonly-box {
            background-color: #e9ecef;
            opacity: 0.7;
        }
    </style>
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="col-md-10 mx-auto">

        <div class="card shadow">
            <div class="card-header bg-warning text-dark text-center">
                <h4>Edit Patient</h4>
            </div>

            <div class="card-body">
                <form method="POST">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

                    <div class="row">

                        <div class="col-md-6 mb-3">
                            <label>ID</label>
                            <input class="form-control readonly-box" value="{{ patient['id'] }}" disabled>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Gender</label>
                            <select name="gender" class="form-control" required>
                                <option value="Male" {% if patient['gender'] == 'Male' %}selected{% endif %}>Male</option>
                                <option value="Female" {% if patient['gender'] == 'Female' %}selected{% endif %}>Female</option>
                                <option value="Other" {% if patient['gender'] == 'Other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Age</label>
                            <input name="age" class="form-control" value="{{ patient['age']|int }}">
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Hypertension</label>
                            <select name="hypertension" class="form-control" required>
                                <option value="0" {% if patient['hypertension'] == 0 or patient['hypertension'] == '0' %}selected{% endif %}>No</option>
                                <option value="1" {% if patient['hypertension'] == 1 or patient['hypertension'] == '1' %}selected{% endif %}>Yes</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Heart Disease</label>
                            <select name="heart_disease" class="form-control" required>
                                <option value="0" {% if patient['heart_disease'] == 0 or patient['heart_disease'] == '0' %}selected{% endif %}>No</option>
                                <option value="1" {% if patient['heart_disease'] == 1 or patient['heart_disease'] == '1' %}selected{% endif %}>Yes</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Ever Married</label>
                            <select name="ever_married" class="form-control" required>
                                <option value="No" {% if patient['ever_married'] == 'No' %}selected{% endif %}>No</option>
                                <option value="Yes" {% if patient['ever_married'] == 'Yes' %}selected{% endif %}>Yes</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Work Type</label>
                            <select name="work_type" class="form-control" required>
                                <option value="children" {% if patient['work_type'] == 'children' %}selected{% endif %}>Children</option>
                                <option value="Govt_job" {% if patient['work_type'] == 'Govt_job' %}selected{% endif %}>Govt job</option>
                                <option value="Never_worked" {% if patient['work_type'] == 'Never_worked' %}selected{% endif %}>Never worked</option>
                                <option value="Private" {% if patient['work_type'] == 'Private' %}selected{% endif %}>Private</option>
                                <option value="Self-employed" {% if patient['work_type'] == 'Self-employed' %}selected{% endif %}>Self-employed</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Residence Type</label>
                            <select name="Residence_type" class="form-control" required>
                                <option value="Rural" {% if patient['Residence_type'] == 'Rural' %}selected{% endif %}>Rural</option>
                                <option value="Urban" {% if patient['Residence_type'] == 'Urban' %}selected{% endif %}>Urban</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Glucose Level</label>
                            <input name="avg_glucose_level" class="form-control" value="{{ patient['avg_glucose_level'] }}">
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>BMI</label>
                            <input name="bmi" class="form-control" value="{{ patient['bmi'] }}">
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Smoking Status</label>
                            <select name="smoking_status" class="form-control" required>
                                <option value="formerly smoked" {% if patient['smoking_status'] == 'formerly smoked' %}selected{% endif %}>Formerly smoked</option>
                                <option value="never smoked" {% if patient['smoking_status'] == 'never smoked' %}selected{% endif %}>Never smoked</option>
                                <option value="smokes" {% if patient['smoking_status'] == 'smokes' %}selected{% endif %}>Smokes</option>
                                <option value="Unknown" {% if patient['smoking_status'] == 'Unknown' %}selected{% endif %}>Unknown</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label>Stroke</label>
                            <select name="stroke" class="form-control" required>
                                <option value="0" {% if patient['stroke'] == 0 or patient['stroke'] == '0' %}selected{% endif %}>No stroke</option>
                                <option value="1" {% if patient['stroke'] == 1 or patient['stroke'] == '1' %}selected{% endif %}>Had stroke</option>
                            </select>
                        </div>

                    </div>

                    <button class="btn btn-warning w-100 mt-3">Update Patient</button>
                    <a href="/dashboard" class="btn btn-secondary w-100 mt-2">Cancel</a>

                </form>
            </div>
        </div>

    </div>
</div>

</body>
</html>
